{%load crispy_forms_tags%}
{%block javascript%}
<script>
   htmx.onLoad(function(e){
    $('.django-select2').djangoSelect2();
   });
   window.addEventListener("DOMContentLoaded", (e) => {
    $('select').on('select2:select', function (e) {
        $(this).closest('select').get(0).dispatchEvent(new Event('change'));
    });
});
   </script>
{%endblock%}

{{filter.form.media}}
<div class="position-relative" id ="filter">
    {% if filter %}
    <div class="card  bg-light text-center">
        <div class="card-header">
            Filter
        </div>
        <div class="card-body">
            <form hx-trigger="keyup,change delay:100ms" hx-get="{% url 'girvi_loan_filter' %}"
                hx-target="#table">
                {{ filter.form|crispy}}
            </form>
        </div>
    </div>
    {% endif %}
</div>







