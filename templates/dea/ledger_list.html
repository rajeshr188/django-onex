{% extends '_base.html' %}
{% load mptt_tags %}
{% block title %}Ledger List{% endblock %}

{% block content %}
<h1>Ledger</h1>

<div class="btn-group" role="group" aria-label="Basic outlined example">
    <button type="button" class="btn btn-outline-success" href="{% url 'dea_ledger_create' %}">Add Ledger</button>
    <button type="button" class="btn btn-outline-primary" href="{% url 'dea_account_create' %}">Add txn</button>
    <button type="button" class="btn btn-outline-info" href="{% url 'dea_account_create' %}">Audit</button>
</div>

<ul class="list-group list-group-flush p-3">
    {% recursetree object_list %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <a href="{% url 'dea_ledger_detail' node.id%}">{{ node.name }}</a>
        {{node.current_balance}}
        {% if not node.is_leaf_node %}
        <ul class="list-group children">
            {{ children }}
        </ul>

        {% endif %}
    </li>

    {% endrecursetree %}
</ul>
{% endblock %}